import os
import subprocess
import threading
from database.sqlite_db import SQLiteDB
from termcolor import colored


class SlipsParser:
    name = "Slips"
    def __init__(self, slips_db: str, db: SQLiteDB):
        # this has to be the path of the sqlite3 db generated by slips with all the labels and community IDs
        self.slips_db: str = slips_db
        self.db = db

    def log(self, green_txt, normal_txt):
        normal_txt = str(normal_txt)
        green_txt = str(green_txt)

        print(colored(f'[{self.name}] ', 'blue') + colored(green_txt,'green') + normal_txt)

    def parse_db(self):
        """reads the output db of slips with the labels and stores it in this tools' db"""
        self.log(f"Parsing Slips input at ", {self.slips_db})



